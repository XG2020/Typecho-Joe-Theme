(function(){function t(){o=[].slice.call(n.querySelectorAll("li")),o=o.map(function(t){let e=t.querySelector("a"),o=document.getElementById(e.getAttribute("data-href").slice(1));return{listItem:t,anchor:e,target:o}}),o=o.filter(function(t){return!!t.target});let t,a=[];o.forEach(function(e,o){let r=e.anchor.offsetLeft-5,n=e.anchor.offsetTop,l=e.anchor.offsetHeight;0===o?(a.push("M",r,n,"L",r,n+l),e.pathStart=0):(t!==r&&a.push("L",t,n),a.push("L",r,n),i.setAttribute("d",a.join(" ")),e.pathStart=i.getTotalLength()||0,a.push("L",r,n+l)),t=r,i.setAttribute("d",a.join(" ")),e.pathEnd=i.getTotalLength()}),r=i.getTotalLength(),e()}function e(){let t=window.innerHeight,e=r,n=0,s=0;o.forEach(function(o){let r=o.target.getBoundingClientRect();r.bottom>t*a&&r.top<t*(1-l)?(e=Math.min(o.pathStart,e),n=Math.max(o.pathEnd,n),s+=1,o.listItem.classList.add("visible")):o.listItem.classList.remove("visible")}),s>0&&e<n?(i.setAttribute("stroke-dashoffset","1"),i.setAttribute("stroke-dasharray","1, "+e+", "+(n-e)+", "+r),i.setAttribute("opacity",1)):i.setAttribute("opacity",0)}if(0===$("#jFloor").length)return!1;let o,r,n=document.querySelector("#jFloor"),i=document.querySelector("#jFloor path"),a=0,l=0;window.addEventListener("resize",t,!1),window.addEventListener("scroll",e,!1),t()})();